import{h as t,Component as e}from"preact";import{subscribers as r,getCurrentUrl as n,exec as a,Link as o}from"preact-router";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var s=function(t){var e,o;function i(){return t.apply(this,arguments)||this}o=t,(e=i).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var s=i.prototype;return s.componentDidMount=function(){var t=this;this.update=function(e){t.nextUrl=e,t.setState({})},r.push(this.update)},s.componentWillUnmount=function(){r.splice(r.indexOf(this.update)>>>0,1)},s.render=function(t){var e=this.nextUrl||n(),r=e.replace(/\?.+$/,"");return this.nextUrl=null,t.children({url:e,path:r,matches:!1!==a(r,t.path,{})})},i}(e);function c(e){var r=e.class,n=e.className,a=e.activeClass,c=e.activeClassName,p=e.path,l=function(t,e){if(null==t)return{};var r,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(a[r]=t[r]);return a}(e,["class","className","activeClass","activeClassName","path"]),u=[r,n].filter(Boolean).join(" "),f=[r,n,a,c].filter(Boolean).join(" ");return t(s,{path:p||l.href},function(e){return t(o,i({},l,{class:e.matches?f:u}))})}export default s;export{c as Link,s as Match};
